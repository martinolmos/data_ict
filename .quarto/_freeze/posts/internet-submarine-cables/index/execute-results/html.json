{
  "hash": "fbbbc85e91f713156169daa9b5f70430",
  "result": {
    "markdown": "---\ntitle: Internet Submarine Cables\nsubtitle: Cables Submarinos de Internet\nauthor: Martin Olmos\ndate: '2022-02-06'\nslug: []\ncategories: []\ntags: []\ncodefolding_show: \"show\"\n---\n\n\n::: {.content-visible when-profile=\"english\"}\n\nSome time ago [Tyler Morgan-Wall][1] made a [visualization][2] of all the submarine internet cables with [Telegeography data][3].\n\nTyler posted the code in this [gist][4]. I decided to reproduce the visualization with a little modification to add a title and change earth´s rotation direction.\n\nHere is the modification to the last for loop to add the title:\n\n:::\n\n::: {.content-visible when-profile=\"spanish\"}\n\nHace un tiempo [Tyler Morgan-Wall][1] hizo una [visualizacón][2] de los todos los cables submarinos de internet con los [datos de Telegeography][3].\n\nTyler publicó el código en este [gist][4]. Yo decidí reproducir la visualización con una pequeña modificación para agregarle un título y hacer girar a la tierra para el otro lado.\n\nAcá va la modificación al último for loop para agregar el título:\n\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfor(i in seq(1,720,by=1)) {\n  tmp <- group_objects(fullcablescene,scale=c(1,1,1)*1.02) %>% \n    add_object(sphere(radius=0.99,material=diffuse(image_texture = \"2k_earth_daymap.jpg\"),angle=c(0,-90,0))) %>% \n    group_objects(angle=c(0,-i/2,0)) %>% \n    add_object(sphere(y=5,z=5,x=5,material=light(intensity = 80,color=\"lightblue\"))) %>% \n    add_object(sphere(y=5,z=5,x=-5,material=light(intensity = 10,color=\"orange\"))) %>% \n    add_object(sphere(y=-10,material=light(intensity = 3,color=\"white\"))) %>%\n    render_scene(samples=64,width=1200,height=1200,fov=0,aperture=0, ortho_dimensions = c(2.3,2.3),\n                 sample_method = \"sobol_blue\",parallel = TRUE,return_raw_array = TRUE)\n  rayimage::add_title(image = tmp,\n                      title_text = \"https://martinolmos.github.io/datos_tic/\",\n                      title_color = \"orange\",\n                      title_position = \"north\",\n                      filename = sprintf(\"imgs/smallcables%d.png\",i))\n}\n```\n:::\n\n\n::: {.content-visible when-profile=\"english\"}\n\nAnd here is the code to change the direction of earth´s rotation:\n\n:::\n\n::: {.content-visible when-profile=\"spanish\"}\n\nY la línea para generar la imagen animada girando para el otro lado:\n\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nav::av_encode_video(sprintf(\"imgs/smallcables%d.png\", seq(720,1,by=-1)), \n                    framerate = 30, \n                    output = \"cables.mp4\")\n```\n:::\n\n\n::: {.content-visible when-profile=\"english\"}\n\nAnd finally the new visualization:\n\n:::\n\n::: {.content-visible when-profile=\"spanish\"}\n\nY finalmente la visualización con mis pequeñas modificaciones al código:\n\n:::\n\n<center>\n![](cables2.mp4){width=70%}\n</center>\n\n[1]:https://twitter.com/tylermorganwall?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor\n[2]:https://twitter.com/tylermorganwall/status/1440669533157556227?s=20&t=05ZXaTcWTILlnCBx4DfJKg\n[3]:https://github.com/telegeography/www.submarinecablemap.com\n[4]:https://gist.github.com/tylermorganwall/b222fcebcac3de56a6e144d73d166322 \n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}