{
  "hash": "20d4797627c48a474f619ceb720b2d48",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Language Models in Spanish\"\nsubtitle: \"Modelos de Lenguaje en Español\"\nformat: \n    html: \n        code-fold: show\ndraft: false\nauthor: \"Martin Olmos\"\ndate: \"2024-12-18\"\ncategories:\n    - \"AI\"\n    - \"LLM\"\n    - \"Hugging Face\"\nexecute: \n  warning: false\n  eval: false\n\n\n---\n\n::: {.content-visible when-profile=\"spanish\"}\n\nUno de los temas discutido durante la [2da Reunión Ministerial sobre Ética en la IA en LAC](https://foroialac.org) fue la necesidad en que la región avance en el desarrollo de modelos de lenguaje en idiomas iberoamericanos, en particular en español.\n\nUno de los principales Hubs de modelos de IA generativa es [Hugging Face](https://huggingface.co/), que ofrece una API para acceder y hostear modelos pre-entrenados, datasets y \"Spaces\" (espacios donde se hostean aplicaciones web basadas en los modelos existentes en el Hub).DS_Store\n\nPodemos aprovechar la API de Hugging Face para analizar la cantidad, calidad y uso de modelos, datasets y Spaces en español y comprarlos con otros idiomas como el inglés.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nOne of the topics discussed during the [2nd Ministerial Meeting on AI Ethics in LAC](https://foroialac.org) was the need for the region to advance in the development of language models in Ibero-American languages, particularly in Spanish.\n\nOne of the main Hubs for generative AI models is [Hugging Face](https://huggingface.co/), which offers an API to access and host pre-trained models, datasets, and \"Spaces\" (web applications based on existing models in the Hub).\n\nWe can use the Hugging Face API to analyze the quantity, quality, and usage of models, datasets, and Spaces in Spanish and compare them with other languages such as English.\n\n:::\n\n::: {#7565eefc .cell execution_count=1}\n``` {.python .cell-code}\nfrom huggingface_hub import HfApi\n\napi = HfApi()\nmodels = api.list_models()\nmodels_es = api.list_models(filter=\"es\")\n```\n:::\n\n\n::: {.content-visible when-profile=\"spanish\"}\n\nVeamos en primer lugar cuántos modelos hay en Huggingface Hub y cuántos de ellos son en español. \n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nLet's first see how many models are in the Huggingface Hub and how many of them are in Spanish.\n\n:::\n\n::: {#55254822 .cell execution_count=2}\n``` {.python .cell-code}\nmodels_list = list(models)\nlen(models_list)\n```\n:::\n\n\n    1191400\n\n::: {#baa21234 .cell execution_count=3}\n``` {.python .cell-code}\nmodels_es_list = list(models_es)\nlen(models_es_list)\n```\n:::\n\n\n    6444\n\n::: {.content-visible when-profile=\"spanish\"}\n\nVemos que actualmente existen 1191400 modelos en el Hub, de los cuales 6444 son en español.\n\nTomemos ahora uno de los modelos para ver qué metadatos hay disponibles.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nWe see that there are currently 1,191,400 models in the Hub, of which 6,444 are in Spanish.\n\nLet's now take one of the models to see the available metadata.\n\n:::\n\n::: {#8d9b4e40 .cell execution_count=4}\n``` {.python .cell-code}\nm = models_list[500]\nm.__dict__\n```\n:::\n\n\n    {'id': 'mistralai/Mistral-Large-Instruct-2411',\n     'author': None,\n     'sha': None,\n     'last_modified': None,\n     'created_at': datetime.datetime(2024, 11, 14, 20, 3, 52, tzinfo=datetime.timezone.utc),\n     'private': False,\n     'gated': None,\n     'disabled': None,\n     'downloads': 488732,\n     'downloads_all_time': None,\n     'likes': 165,\n     'library_name': 'vllm',\n     'gguf': None,\n     'inference': None,\n     'tags': ['vllm',\n      'safetensors',\n      'mistral',\n      'en',\n      'fr',\n      'de',\n      'es',\n      'it',\n      'pt',\n      'zh',\n      'ja',\n      'ru',\n      'ko',\n      'license:other',\n      'region:us'],\n     'pipeline_tag': None,\n     'mask_token': None,\n     'trending_score': 5,\n     'card_data': None,\n     'widget_data': None,\n     'model_index': None,\n     'config': None,\n     'transformers_info': None,\n     'siblings': None,\n     'spaces': None,\n     'safetensors': None,\n     'security_repo_status': None,\n     'lastModified': None,\n     'cardData': None,\n     'transformersInfo': None,\n     '_id': '673657a8517b82b436cb7e4c',\n     'modelId': 'mistralai/Mistral-Large-Instruct-2411'}\n\n\n::: {.content-visible when-profile=\"spanish\"}\n\nVemos que dentro del campo `tags` hay etiquetas que indican el lenguaje en código ISO 639-1. Podemos usar estas etiquetas para analizar los datos por lenguaje.\n\nPrimero entonces voy a bajar un dataset de los códigos ISO 639-1.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nWe see that within the `tags` field there are tags that indicate the language in ISO 639-1 code. We can use these tags to analyze the data by language.\n\nFirst, I will download a dataset of ISO 639-1 codes.\n\n:::\n\n::: {#842d27f0 .cell execution_count=5}\n``` {.python .cell-code}\nimport pandas as pd\n\niso_639_url = \"https://raw.githubusercontent.com/datasets/language-codes/refs/heads/main/data/language-codes.csv\"\niso_639 = pd.read_csv(iso_639_url)\nprint(iso_639.head())\n```\n:::\n\n\n      alpha2    English\n    0     aa       Afar\n    1     ab  Abkhazian\n    2     ae    Avestan\n    3     af  Afrikaans\n    4     ak       Akan\n\n\n::: {.content-visible when-profile=\"spanish\"}\n\nAhora para cada modelo de mi lista de modelos y de modelos en español, voy a crear un atributo `languages` y asignarle los códigos ISO 639-1 que encuentre en el campo `tags`.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nNow for each model in my list of models and models in Spanish, I will create a `languages` attribute and assign the ISO 639-1 codes that I find in the `tags` field.\n\n:::\n\n::: {#9ce32d3c .cell execution_count=6}\n``` {.python .cell-code}\nfor m in models_list:\n    m.languages = [l for l in m.tags if l in iso_639[\"alpha2\"].values]\n\nfor m in models_es_list:\n    m.languages = [l for l in m.tags if l in iso_639[\"alpha2\"].values]\n```\n:::\n\n\n::: {.content-visible when-profile=\"spanish\"}\n\nVeamos cuántos modelos tienen al menos una etiqueta de lenguaje.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nLet's see how many models have at least one language tag.\n\n:::\n\n::: {#7feb6f09 .cell execution_count=7}\n``` {.python .cell-code}\nlanguages = [m.languages for m in models_list if len(m.languages) > 0]\nlanguages_es = [m.languages for m in models_es_list]\n\nlen(languages), len(languages_es)\n```\n:::\n\n\n    (143924, 6444)\n\n\n::: {.content-visible when-profile=\"spanish\"}\n\nDel total de modelos, sólo 143924 tienen al menos una etiqueta de lenguaje. De estos, 6444 son en español.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nOnly 143,924 models have at least one language tag. Of these, 6,444 are in Spanish.\n\n:::\n\n::: {#bcca312a .cell execution_count=8}\n``` {.python .cell-code}\nimport matplotlib.pyplot as plt\nfrom matplotlib.ticker import ScalarFormatter\n\n# Make a bar plot of len(models_list), len(languages) and len(languages_es)\nplt.bar([\"Total de modelos\", \"Modelos con etiqueta de lenguaje\", \"Modelos en español\"], [len(models_list), len(languages), len(languages_es)])\n\n# Rotate the x-axis labels 45 degrees\nplt.xticks(rotation=45, ha=\"right\")\n\n# Add a title\nplt.title(\"Cantidad de modelos en Hugging Face Hub por lenguaje\")\n\n# Disable scientific notation\nplt.gca().yaxis.set_major_formatter(ScalarFormatter(useOffset=False))\nplt.gca().ticklabel_format(style='plain', axis='y')\n\n# Show the plot\nplt.show()\n```\n:::\n\n\n![](modelos_por_lenguaje.png)\n    \n::: {.content-visible when-profile=\"spanish\"}\n\nOtra pregunta interesante es cuántos modelos son en español \"puro\", es decir, que no tienen etiquetas de otros idiomas.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nAnother interesting question is how many models are \"pure\" in Spanish models, that is, they do not have tags for other languages.\n\n:::\n\n::: {#b4e4b4b8 .cell execution_count=9}\n``` {.python .cell-code}\nmodels_es_only_list = [m for m in models_es_list if len(m.languages) == 1]\nlen(models_es_only_list)\n```\n:::\n\n\n    1568\n\n::: {.content-visible when-profile=\"spanish\"}\n\nLos modelos sólo en español son 1568.\n\nVeamos ahora métricas de calidad, como la cantidad de likes y descargas de los modelos en español, comparados con los de otros idiomas.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nThe models only in Spanish are 1568.\n\nLet's now look at quality metrics, such as the number of likes and downloads of the Spanish models, compared to those in other languages.\n\n:::\n\n::: {#155eda59 .cell execution_count=10}\n``` {.python .cell-code}\nlikes = [m.likes for m in models_list]\nlikes_es = [m.likes for m in models_es_only_list]\ndownloads = [m.downloads for m in models_list]\ndownloads_es = [m.downloads for m in models_es_only_list]\n```\n:::\n\n\n::: {#07136fb3 .cell execution_count=11}\n``` {.python .cell-code}\nlen(likes), likes.count(0), likes.count(1)\n```\n:::\n\n\n    (1191400, 1092628, 49002)\n\n::: {.content-visible when-profile=\"spanish\"}\n\nDel total de 1191400 modelos, 1092628 tienen 0 likes y 49002 tienen un like.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nFrom the total of 1,191,400 models, 1,092,628 have 0 likes and 49,002 have 1 like.\n\n:::\n\n::: {#8b98307d .cell execution_count=12}\n``` {.python .cell-code}\nlikes_dist = {\"Min\": np.min(likes), \"25%\": np.quantile(likes, 0.25), \"Median\": np.median(likes), \"Mean\": np.mean(likes), \"75%\": np.quantile(likes, 0.75), \"90%\": np.quantile(likes, 0.9), \"95%\": np.quantile(likes, .95), \"99%\": np.quantile(likes, .99)}\n```\n:::\n\n\n::: {#a9a48f42 .cell execution_count=13}\n``` {.python .cell-code}\nplt.bar(likes_dist.keys(), likes_dist.values())\n\nplt.title(\"Distribución de likes en modelos de Hugging Face Hub\")\n\nplt.show()\n```\n:::\n\n\n![](likes_dist.png)\n    \n::: {.content-visible when-profile=\"spanish\"}\n\nComo se aprecia en el gráfico, el 90% de los modelos tienen 0 likes, el 95% tienen 0 o 1 like y el 99% 11 likes o menos.\n\nDetengámonos sobre los que tienen mayor cantidad de likes.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nAs seen in the graph, 90% of the models have 0 likes, 95% have 0 or 1 like, and 99% have 11 likes or less.\n\nLet's focus on those with the most likes.\n\n:::\n\n::: {#ebd6b391 .cell execution_count=14}\n``` {.python .cell-code}\nplt.bar([\"Modelos con más de 100 likes\", \"Modelos con más de 500 likes\", \"Modelos con más de 1000 likes\", \"Modelos con más de 3000\", \"Modelos con más de 5000 likes\"], [len([l for l in likes if l > 100]), len([l for l in likes if l > 500]), len([l for l in likes if l > 1000]), len([l for l in likes if l > 3000]), len([l for l in likes if l > 5000])])\n\nplt.title(\"Cantidad de modelos con más de X likes en Hugging Face Hub\")\n\n# Rotate the x-axis labels 45 degrees\nplt.xticks(rotation=45, ha=\"right\")\n\nplt.show()\n```\n:::\n\n\n![](likes_dist2.png)\n    \n::: {.content-visible when-profile=\"spanish\"}\n\nVeamos ahora qué ocurre con los modelos que son sólo en español.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nLet's now see what happens with the models that are only in Spanish.\n\n:::\n\n::: {#48de1ea7 .cell execution_count=15}\n``` {.python .cell-code}\nlen(likes_es), likes_es.count(0), likes_es.count(1)\n```\n:::\n\n\n    (1568, 1138, 166)\n\n::: {.content-visible when-profile=\"spanish\"}\n\nDel total de 1568 modelos que son sólo en español, 1138 tienen 0 likes y 430 tienen un like.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nFrom the total of 1,568 models that are only in Spanish, 1,138 have 0 likes and 430 have 1 like.\n\n:::\n\n::: {#6dbb74f6 .cell execution_count=16}\n``` {.python .cell-code}\nlikes_es_dist = {\"Min\": np.min(likes_es), \"25%\": np.quantile(likes_es, 0.25), \"Median\": np.median(likes_es), \"Mean\": np.mean(likes_es), \"75%\": np.quantile(likes_es, 0.75), \"90%\": np.quantile(likes_es, 0.9), \"95%\": np.quantile(likes_es, .95), \"99%\": np.quantile(likes_es, .99)}\n```\n:::\n\n\n::: {#d00d9543 .cell execution_count=17}\n``` {.python .cell-code}\nplt.bar(likes_es_dist.keys(), likes_es_dist.values())\n\nplt.title(\"Distribución de likes en modelos sólo en español de Hugging Face Hub\")\n\nplt.show()\n```\n:::\n\n\n![](likes_es_dist.png)\n\n::: {#37936dfd .cell execution_count=18}\n``` {.python .cell-code}\nprint(likes_es_dist)\n```\n:::\n\n\n    {'Min': np.int64(0), '25%': np.float64(0.0), 'Median': np.float64(0.0), 'Mean': np.float64(1.5012755102040816), '75%': np.float64(1.0), '90%': np.float64(3.0), '95%': np.float64(7.0), '99%': np.float64(27.0)}\n\n::: {.content-visible when-profile=\"spanish\"}\n\nLa media de likes de los modelos sólo en español es de 1.5, el 75% de los modelos tienen 1 like o menos, el 90% tienen 3 likes o menos, el 95% tienen 7 likes o menos y el 99% tienen 27 likes o menos. \n\nVeamos ahora los modelos sólo en español con mayor cantidad de likes.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nThe average number of likes for models only in Spanish is 1.5, 75% of the models have 1 like or less, 90% have 3 likes or less, 95% have 7 likes or less, and 99% have 27 likes or less.\n\nLet's now look at the models only in Spanish with the most likes.\n\n:::\n\n::: {#dc008989 .cell execution_count=19}\n``` {.python .cell-code}\nplt.bar([\"Modelos con más de 150 likes\", \"Modelos con más de 100 likes\", \"Modelos con más de 50 likes\", \"Modelos con más de 20\"], [len([l for l in likes_es if l > 150]), len([l for l in likes_es if l > 100]), len([l for l in likes_es if l > 50]), len([l for l in likes_es if l > 20])])\n\nplt.title(\"Cantidad de modelos sólo en español con más de X likes en Hugging Face Hub\")\n\n# Rotate the x-axis labels 45 degrees\nplt.xticks(rotation=45, ha=\"right\")\n\nplt.show()\n```\n:::\n\n\n![](likes_es_dist2.png)\n\n::: {#e84154ea .cell execution_count=20}\n``` {.python .cell-code}\nprint(len([l for l in likes_es if l > 150]), len([l for l in likes_es if l > 100]), len([l for l in likes_es if l > 50]), len([l for l in likes_es if l > 20]))\n```\n:::\n\n\n    0 1 4 23\n\n::: {.content-visible when-profile=\"spanish\"}\n\nSólo hay un modelo sólo en español con 100 likes o más, mientras que 4 modelos con 50 likes o más y 23 modelos con 20 likes o más.\n\nVeamos ahora las descargas.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nThere is only one model only in Spanish with 100 likes or more, while 4 models have 50 likes or more and 23 models have 20 likes or more.\n\nLet's now look at the downloads.\n\n:::\n\n::: {#b29c1bc2 .cell execution_count=21}\n``` {.python .cell-code}\nlen(downloads), downloads.count(0), downloads.count(1)\n```\n:::\n\n\n    (1191400, 588526, 26337)\n\n::: {.content-visible when-profile=\"spanish\"}\n\nDel total de 1191400 modelos, 588526 (aproximadamente la mitad) tienen 0 descargas.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nFrom the total of 1,191,400 models, 588,526 (approximately half) have 0 downloads.\n\n:::\n\n::: {#54f98870 .cell execution_count=22}\n``` {.python .cell-code}\ndl_dist = {\"Min\": np.min(downloads), \"25%\": np.quantile(downloads, 0.25), \"Median\": np.median(downloads), \"Mean\": np.mean(downloads), \"75%\": np.quantile(downloads, 0.75), \"90%\": np.quantile(downloads, 0.9), \"95%\": np.quantile(downloads, .95), \"99%\": np.quantile(downloads, .99)}\n```\n:::\n\n\n::: {#090b8aba .cell execution_count=23}\n``` {.python .cell-code}\nplt.bar(dl_dist.keys(), dl_dist.values())\n\nplt.title(\"Distribución de descargas en modelos de Hugging Face Hub\")\n\nplt.show()\n```\n:::\n\n\n![](dl_dist.png)\n\n::: {#81d47ffe .cell execution_count=24}\n``` {.python .cell-code}\nprint(dl_dist, np.max(downloads))\n```\n:::\n\n\n    {'Min': np.int64(0), '25%': np.float64(0.0), 'Median': np.float64(1.0), 'Mean': np.float64(1823.2946558670471), '75%': np.float64(11.0), '90%': np.float64(23.0), '95%': np.float64(76.0), '99%': np.float64(1398.0)} 181462888\n\n::: {.content-visible when-profile=\"spanish\"}\n\nLa media de descargas de los modelos es 1823, mientras que la mediana es apenas 1. Esta diferencia tan grande señala que hay unos pocos modelos con una gran cantidad de descargas que hacen que la media sea tan alta. \n\nEl modelo con mayor cantidad de descargas tiene 181.462.888 descargas. Veamos de cuál es este modelo.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nThe average number of downloads for the models is 1823, while the median is just 1. This large difference indicates that there are a few models with a large number of downloads that make the average so high.\n\nThe model with the most downloads has 181,462,888 downloads. Let's see which model this is.\n\n:::\n\n::: {#c0c952b2 .cell execution_count=25}\n``` {.python .cell-code}\nplt.bar([\"Modelos con más de 100 mil descargas\", \"Modelos con más de 500 mil descargas\", \"Modelos con más de 1 millón de  descargas\", \"Modelos con más de 10 millones de descargas\", \"Modelos con más de 100 millones de descargas\"], [len([l for l in downloads if l > 100000]), len([l for l in downloads if l > 500000]), len([l for l in downloads if l > 1000000]), len([l for l in downloads if l > 10000000]), len([l for l in downloads if l > 100000000])])\n\nplt.title(\"Cantidad de modelos con más de X descargas en Hugging Face Hub\")\n\n# Rotate the x-axis labels 45 degrees\nplt.xticks(rotation=45, ha=\"right\")\n\nplt.show()\n```\n:::\n\n\n![](dl_dist2.png)\n\n::: {#506fbb5d .cell execution_count=26}\n``` {.python .cell-code}\nprint(len([l for l in downloads if l > 100000]), len([l for l in downloads if l > 500000]), len([l for l in downloads if l > 1000000]), len([l for l in downloads if l > 10000000]), len([l for l in downloads if l > 100000000]))\n```\n:::\n\n\n    1134 443 273 34 3\n\n::: {.content-visible when-profile=\"spanish\"}\n\nHay 1134 modelos con más de 100 mil descargas, 443 con más de 500 mil descargas, 273 con más de un millón de descargas, 34 con más de 10 millones de descargas y 3 con más de 100 millones de descargas.\n\nVeamos cuáles son los modelos con más de 10 millones de descargas.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nThere are 1,134 models with more than 100,000 downloads, 443 with more than 500,000 downloads, 273 with more than 1 million downloads, 34 with more than 10 million downloads, and 3 with more than 100 million downloads.\n\nLet's see which models have more than 10 million downloads.\n\n:::\n\n::: {#d8e7ac28 .cell execution_count=27}\n``` {.python .cell-code}\n[print(f\"Modelo: {m.id}, descargas: {m.downloads}\") for m in models_millon_downloads if m.downloads > 10000000]\n```\n:::\n\n\n    Modelo: nesaorg/benchmark_v0, descargas: 172569176\n    Modelo: sentence-transformers/all-MiniLM-L6-v2, descargas: 102361718\n    Modelo: Qwen/Qwen2.5-1.5B-Instruct, descargas: 29787495\n    Modelo: openai-community/gpt2, descargas: 13635588\n    Modelo: google-bert/bert-base-uncased, descargas: 69032646\n    Modelo: openai/clip-vit-large-patch14, descargas: 30593669\n    Modelo: openai/clip-vit-base-patch32, descargas: 21394717\n    Modelo: sentence-transformers/all-mpnet-base-v2, descargas: 181462888\n    Modelo: pyannote/speaker-diarization-3.1, descargas: 11145540\n    Modelo: sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2, descargas: 10717417\n    Modelo: pyannote/segmentation-3.0, descargas: 14657651\n    Modelo: bartowski/Meta-Llama-3.1-8B-Instruct-GGUF, descargas: 10642781\n    Modelo: FacebookAI/roberta-base, descargas: 16983687\n    Modelo: sentence-transformers/all-MiniLM-L12-v2, descargas: 10686154\n    Modelo: openai/clip-vit-large-patch14-336, descargas: 20836111\n    Modelo: distilbert/distilbert-base-uncased, descargas: 15451802\n    Modelo: microsoft/resnet-50, descargas: 34636864\n    Modelo: FacebookAI/xlm-roberta-large, descargas: 71149467\n    Modelo: google-bert/bert-base-multilingual-uncased, descargas: 12923212\n    Modelo: FacebookAI/roberta-large, descargas: 14851944\n    Modelo: FacebookAI/xlm-roberta-base, descargas: 12074140\n    Modelo: google/electra-base-discriminator, descargas: 10615222\n    Modelo: google/vit-base-patch16-224-in21k, descargas: 10802933\n    Modelo: jonatasgrosman/wav2vec2-large-xlsr-53-english, descargas: 20671837\n    Modelo: openai/clip-vit-base-patch16, descargas: 13014792\n    Modelo: bigscience/bloomz-560m, descargas: 12417679\n    Modelo: timm/resnet50.a1_in1k, descargas: 24015981\n    Modelo: pyannote/wespeaker-voxceleb-resnet34-LM, descargas: 12499697\n    Modelo: nesaorg/fc_12, descargas: 26749830\n    Modelo: nesaorg/fc_4, descargas: 19983316\n    Modelo: nesaorg/fc_6, descargas: 39967060\n    Modelo: nesaorg/fc_8, descargas: 54180206\n    Modelo: nesaorg/fc_16, descargas: 12477680\n    Modelo: distributed/optimized-gpt2-1b, descargas: 25559944\n\n\n\n::: {.content-visible when-profile=\"spanish\"}\n\nVeamos ahora las descargas de los modelos sólo en español.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nLet's now look at the downloads of the models only in Spanish.\n\n:::\n\n::: {#dca3e18d .cell execution_count=28}\n``` {.python .cell-code}\nprint(len(downloads_es), downloads_es.count(0))\n```\n:::\n\n\n    1568 248\n\n::: {.content-visible when-profile=\"spanish\"}\n\nDe los 1568 modelos sólo en español, 248 tienen 0 descargas.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nOf the 1,568 models only in Spanish, 248 have 0 downloads.\n\n:::\n\n::: {#690c6531 .cell execution_count=29}\n``` {.python .cell-code}\ndl_es_dist = {\"Min\": np.min(downloads_es), \"25%\": np.quantile(downloads_es, 0.25), \"Median\": np.median(downloads_es), \"Mean\": np.mean(downloads_es), \"75%\": np.quantile(downloads_es, 0.75), \"90%\": np.quantile(downloads_es, 0.9), \"95%\": np.quantile(downloads_es, .95), \"99%\": np.quantile(downloads_es, .99)}\n```\n:::\n\n\n::: {#f98a8604 .cell execution_count=30}\n``` {.python .cell-code}\nplt.bar(dl_es_dist.keys(), dl_es_dist.values())\n\nplt.title(\"Distribución de descargas en modelos sólo en español de Hugging Face Hub\")\n\nplt.show()\n```\n:::\n\n\n![](dl_es_dist.png)\n\n::: {#094a8517 .cell execution_count=31}\n``` {.python .cell-code}\nprint(dl_es_dist)\n```\n:::\n\n\n    {'Min': np.int64(0), '25%': np.float64(9.0), 'Median': np.float64(15.0), 'Mean': np.float64(2504.596301020408), '75%': np.float64(27.0), '90%': np.float64(99.59999999999991), '95%': np.float64(376.8999999999992), '99%': np.float64(11140.349999999986)}\n\n::: {.content-visible when-profile=\"spanish\"}\n\nLa media de descargas de de los modelos sólo en español es de 2504, mientras que el 95% de los modelos tienen 377 descargas o menos.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nThe average number of downloads for models only in Spanish is 2504, while 95% of the models have 377 downloads or less.\n\n:::\n\n::: {#7ffffbe0 .cell execution_count=32}\n``` {.python .cell-code}\nplt.bar([\"Modelos con más de 1000 descargas\", \"Modelos con más de 5000 descargas\", \"Modelos con más de 10000 descargas\", \"Modelos con más de 100 mil descargas\", \"Modelos con más de 200 mil descargas\", \"Modelos con más de 500 mil descargas\"], [len([l for l in downloads_es if l > 1000]), len([l for l in downloads_es if l > 5000]), len([l for l in downloads_es if l > 10000]), len([l for l in downloads_es if l > 100000]), len([l for l in downloads_es if l > 200000]), len([l for l in downloads_es if l > 500000])])\n\nplt.title(\"Cantidad de modelos sólo en español con más de X descargas en Hugging Face Hub\")\n\n# Rotate the x-axis labels 45 degrees\nplt.xticks(rotation=45, ha=\"right\")\n\nplt.show()\n```\n:::\n\n\n![](dl_es_dist2.png)\n\n::: {#5596194f .cell execution_count=33}\n``` {.python .cell-code}\nprint(len([l for l in downloads_es if l > 1000]), len([l for l in downloads_es if l > 5000]), len([l for l in downloads_es if l > 10000]), len([l for l in downloads_es if l > 100000]), len([l for l in downloads_es if l > 200000]), len([l for l in downloads_es if l > 500000]))\n```\n:::\n\n\n    53 23 17 7 5 2\n\n::: {.content-visible when-profile=\"spanish\"}\n\nVeamos cuáles son los modelos sólo en español con más de 100 mil descargas.\n\n:::\n\n::: {.content-visible when-profile=\"english\"}\n\nLet's see which models only in Spanish have more than 100,000 downloads.\n\n:::\n\n::: {#5de5aa0d .cell execution_count=34}\n``` {.python .cell-code}\n[print(f\"Modelo: {m.id}, descargas: {m.downloads}\") for m in models_es_only_list if m.downloads > 100000]\n```\n:::\n\n\n    Modelo: MMG/xlm-roberta-large-ner-spanish, descargas: 657221\n    Modelo: dccuchile/bert-base-spanish-wwm-uncased, descargas: 458065\n    Modelo: hiiamsid/sentence_similarity_spanish_es, descargas: 131325\n    Modelo: pysentimiento/robertuito-emotion-analysis, descargas: 117978\n    Modelo: pysentimiento/robertuito-sentiment-analysis, descargas: 1111575\n    Modelo: datificate/gpt2-small-spanish, descargas: 480166\n    Modelo: finiteautomata/beto-sentiment-analysis, descargas: 461003\n\n\n\n\n\n    [None, None, None, None, None, None, None]\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}